<template>
	<svws-ui-app-layout :fullwidthContent="true">
		<template #main>
			<div class="login-wrapper">
				<div class="login-container">
					<h1 class="login-form-header">
						<span class="login-form-logo">
							<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 999.38 999.4">
								<path d="M0 999.4V0h999.38v999.4H0Zm16.8-16.82h965.85V16.99H16.8v965.59Z"/>
								<path
									d="M550.24 667.44c-3.89-10.01-8.14-20.27-11.89-30.71a478.83 478.83 0 0 1-28.43-158.47 13.46 13.46 0 0 1 3.23-8.3c11.47-12.87 26.5-17.87 43.28-18.22 1.53-.03 3.74 1.83 4.58 3.38 19.66 36.28 39.17 72.65 58.71 108.99 3.69 6.87 7.4 13.72 11.68 21.65 9.1-38.5 27.91-70.72 53.43-99.45l-60.16-47.17c-24.25-19.02-48.47-38.08-72.81-56.99a11.93 11.93 0 0 0-6.7-2.31c-11.62-.23-23.25-.11-35.12-.11V37.23h317.81c-1.53 10.63-3.27 20.96-4.43 31.36a512.83 512.83 0 0 0-2.47 31.83c-.14 2.85-1.13 4.09-3.37 5.3-10.4 5.61-20.71 11.37-31.08 17.04-24.73 13.53-45.66 32.26-67.65 49.52-25.56 20.06-50.91 40.38-76.39 60.53-8.52 6.74-15.71 14.42-18.82 25.16-.5 1.71-.72 3.5-1.05 5.18 9.79 4.01 13.51 8.7 13.16 16.28-.35 7.52-4.31 11.84-13.34 14.55-.44 12.39 9.56 22.9 21.54 22.47 1.36-.05 2.81-.89 4-1.69 2.77-1.84 5.37-3.95 8.12-5.83 2.78-1.9 4.69-4 5.65-7.6.77-2.9 3.24-5.86 5.76-7.69 8.96-6.5 23.89-6.27 33.05 0 8.32 5.69 8.54 15.31-.19 20.27-4.59 2.61-10.21 4.04-15.51 4.59-4.02.42-7.28 1.26-10.36 3.79-3.33 2.73-6.92 5.14-11 8.13 17.86 6.85 35.34 11.87 54.01 8.05 13.44-2.74 22.99-10.8 27.01-23.98 3.57-11.69 11.57-17.36 22.74-19.81 15.62-3.42 31.42-2.82 47.25-2.32 20.64.65 41.28 1.29 61.93 1.48 20.33.18 34.84-9.58 44.02-27.49 2.2-4.29 4.28-8.68 5.89-13.2 1.13-3.17 2.72-4.39 6.11-4.46 15.13-.31 24.07 12.38 17.64 26.5-12.87 28.29-33.9 46.08-65.94 48.67-5.13.41-10.27.76-14.21 1.05-5.97 12.89-10.86 25.65-17.52 37.4-12.71 22.42-30.9 40.41-49.84 57.56-27.65 25.04-56.13 49.22-82.99 75.09-26.09 25.14-46.34 54.73-55.79 90.28-3.73 14.04-5 28.76-7.07 43.21-.41 2.87-1.12 4.44-3.94 5.38-33.61 11.21-67.18 22.52-100.77 33.78-.28.09-.64-.04-1.77-.15ZM37.2 496.81V37.27H373c-1.18 2.92-2.21 5.5-3.26 8.06-16.27 39.61-27.74 80.8-39.91 121.76-11.33 38.12-23.48 75.93-40.12 112.18-26.37 57.45-66.33 103.19-119.34 137.14-33.48 21.44-68.1 41.1-102.19 61.6-8.84 5.32-17.59 10.81-26.38 16.2-1.36.83-2.77 1.57-4.61 2.61ZM36.51 961.18c.59-2.56.78-4.04 1.27-5.4 15.96-43.74 31.59-87.61 48.04-131.17 16.1-42.64 35.98-83.37 63.49-120.07 25.18-33.58 56.95-59.75 92.3-81.61 32.27-19.95 65.36-38.58 97.96-58.01 30.69-18.29 60.18-38.23 85.33-63.92 23.76-24.27 41.72-52.63 57.87-82.25 2.11-3.87 4.16-7.77 6.54-12.22.26 1.15.45 1.58.44 2.01-.6 35.47.19 71.02-2.15 106.37-3.84 57.85-19.36 113.03-44.41 165.31-49.92 104.19-126.9 181.92-230.45 233.09-46.6 23.02-95.88 37.71-147.44 44.54-9.21 1.22-18.45 2.14-28.78 3.33ZM503.28 962.58c-26.82 0-53.65-.07-80.47.09-3.63.02-5.78-1.09-7.59-4.18-4.54-7.77-7.88-15.83-7.08-25.02.73-8.39 4.96-14.74 12.21-18.93 3.25-1.88 3.25-4.88 2.07-7.31-1.06-2.19-3.52-5.06-5.55-5.21-17.89-1.34-26.92-8.36-29.63-26.14-3.65-23.96 3.25-44.91 21.39-61.41 10.06-9.15 24.8-12.83 37.06-1.88 2.85 2.54 5.36.97 7.59-.76 2.19-1.7 4.15-3.47 2.88-7.11-4.62-13.26-1.54-23.25 9.33-31.79 19.88-15.62 56.14-15.4 75.79.47 10.45 8.43 13.42 18.31 8.92 31-1.32 3.73.47 5.8 2.92 7.6 2.48 1.82 4.93 2.7 8.04.2 9.69-7.81 19.88-8.51 30.55-1.95 15.47 9.52 23.26 24.32 26.92 41.51 2.32 10.9 2.23 21.86-1.88 32.46-4.68 12.07-13.27 18.04-26.06 17.55-4.14-.16-5.79 1.97-6.83 5.1-1.05 3.16-.89 5.84 2.6 8.08 10.15 6.5 13.75 16.45 10.92 28.65a46.05 46.05 0 0 1-1.27 4.3c-4.65 13.61-6.15 14.69-20.37 14.69h-72.47Zm60.94-82.31c-.4-33.74-27.99-60.98-61.46-60.68-33.6.3-61.2 28.16-60.82 61.39.39 33.56 28.2 61.02 61.53 60.77 33.51-.26 61.14-28.21 60.75-61.47ZM682.26 761.87c1.96 4.01 3.6 7.57 5.41 11.05 16.7 32.14 41.14 57.37 71.45 76.52 25.86 16.34 52.75 31.04 79.25 46.36 25.45 14.71 49.96 30.66 70.4 52.11 1.92 2.02 3.79 4.08 5.69 6.13l-.61 1.32c-16.26-3.98-32.72-7.28-48.74-12.04-119.65-35.57-212.93-106.3-280.37-211.22-.92-1.43-1.3-3.21-1.94-4.83 1.81-.5 3.65-1.51 5.42-1.42 40.39 2.11 80.77 4.34 121.15 6.55 13.13.72 26.25 1.87 39.38 2.08 23.15.37 38.85-11.57 49.28-31.39 3.63-6.89 9.89-8.45 16.45-3.74 6.12 4.39 9.39 13.74 6.49 22.04a46.48 46.48 0 0 1-8.32 14.54c-17.21 20.18-38.82 30.74-65.85 29.04-19.27-1.22-38.56-2.09-57.84-3.09-1.96-.1-3.92-.01-6.71-.01Z"/>
								<path
									d="M962.31 37.31v40.67l-53.4-7.4c3.3 13.48 4.45 26.36 1.77 39.25-2.89 13.92-17.18 21.43-29.45 15.89-5.2-2.35-5.93-3.89-3.95-9.07 10.93-28.61.76-51.89-18.38-72.91-1.89-2.07-3.91-4.02-6.26-6.43H962.3ZM809.8 190.19c-13.02 7.03-25.52 13.45-40.49 10.76-.33-.06-.66-.09-.98-.17-7.97-1.95-14.37-8.4-13.51-13.61 1.91-11.53 8.88-18.2 18.74-17.29a37.7 37.7 0 0 1 11.44 3.16c9.18 4.02 17.16 9.9 24.81 17.15ZM610.7 914.46c2.57-1.98 6.38-4.42 9.55-7.51 3.06-2.98 5.47-6.64 8.44-10.34 7.58 7.91 12.26 17.46 14.76 28.11.26 1.09-1.14 2.99-2.26 3.92-7.82 6.46-16.71 10.77-25.93 12.61l-4.55-26.79ZM557.96 765.75a58.4 58.4 0 0 1 29.23-4.96c1.33.11 3.26 1.16 3.73 2.28 4.15 9.73 5.7 19.87 4.52 29.62l-25.93-3.77-11.55-23.18ZM448 765.63l-11.47 23.54-25.57 3.7c-1.29-10 .28-20.4 4.64-30.4.38-.86 1.98-1.59 3.08-1.68 10.44-.83 20.49.77 29.33 4.84ZM395.39 915.65l-4.43 25.54c-9.57-1.84-18.79-6.43-26.8-13.42a4.64 4.64 0 0 1-1.17-3.89c2.55-10.13 7.09-19.25 13.82-26.45l18.58 18.22ZM503.07 841.58c22.12-.02 39.27 17.15 39.2 39.24a38.78 38.78 0 0 1-39.1 38.92c-21.79.02-39.19-17.2-39.23-38.82-.04-22.17 17.03-39.33 39.13-39.35Z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" class="hidden">
								<path fill="#fdfdfc" d="M0 500V0h1000v1000H0V500z" />
								<path fill="#009136"
									  d="M0 500V0h1000v1000H0V500zm983.5 0V16.5h-967L16.2 499c-.1 265.4 0 483 .3 483.8.3 1 97.6 1.2 483.7 1l483.3-.3V500zm-564 461c-1.2-.4-3.5-3.7-5.2-7.1-7.7-15.7-5.8-29.1 5.3-37 3.8-2.8 4.4-3.7 4.4-7a11 11 0 00-2-6.3c-1.9-2.3-2.9-2.6-7.8-2.6a22 22 0 01-18-8.5c-11-12.6-11.1-38.4-.1-59.5 11.6-22.4 32.2-31.6 46.8-21 4.6 3.4 7.6 3.7 10.9 1.4 4-2.8 4.5-5 2.7-12-2.6-10.3-.3-17.7 7.8-25.1 22.7-21 73-16 84.7 8.3 2.2 4.5 2.4 10.4.4 21.5-.5 3.1-.2 3.9 2.6 6.2 3.5 3 8 3.5 10 1.1 4-4.6 13.7-6.9 21.4-4.9 7.4 2 12 5 18.8 12.4 14.8 15.9 20.9 43.7 13.8 62.6a25.4 25.4 0 01-24.2 17.5c-5.2 0-8.2 2.5-9.3 7.8-.6 3-.3 3.6 5.4 8.8 7.7 7.1 9.6 11.7 8.9 21.4-.7 8.7-6.3 21.4-10 22.4-3.5.9-165 .6-167.4-.4zM522 940.1a67.9 67.9 0 0034.5-27 63 63 0 006.1-50.7 62.9 62.9 0 00-38.6-40.1 71 71 0 00-35-1.9A63 63 0 00448 853c-9.3 19-9.3 37 0 56a62.6 62.6 0 0040.1 32 69.2 69.2 0 0033.8-.9zM496.2 919a41 41 0 01-28-21.7c-2.4-5-2.7-6.9-2.7-16.2 0-9.3.3-11.2 2.6-16.1a38.7 38.7 0 0172.4 5.5 39 39 0 01-44.3 48.5zM38 958.8c0-.8 2.3-7.5 5.1-14.9S55 911.9 63 889a1354 1354 0 0133.6-88.7A439 439 0 01156.3 697a370 370 0 0149.2-47.8c23.1-18 44-31.2 100-63.5 66.5-38.3 91.3-55.7 118.7-83.4a237.6 237.6 0 0030.5-36.4c8.5-12 24-37.2 29.1-47.6 3.7-7.3 5-8.3 5.8-4.7 1 3.8-.3 86-1.5 98.9A491.7 491.7 0 01154 937a474.6 474.6 0 01-106.8 22.7c-7.9.5-9.3.4-9.3-.9zm857-8.8a492.5 492.5 0 01-282-179.4c-12.6-16.5-29.3-41.7-28.2-42.8a81 81 0 0117.3.2l54.9 3 55 3c47 2.7 48.5 2.6 61-3.2a71.9 71.9 0 0025.5-25.2c3.6-7 5-8.1 9.8-7.2 11.2 2 16 16.3 9.6 28.8-3 6-20 22.5-27.9 27-3.6 2.2-10.1 5-14.5 6.5-7.4 2.5-9.3 2.7-25 2.8-9.3 0-28.2-.6-41.8-1.4-18.8-1-25-1.1-26-.2-2.2 2.2 10.2 24.3 22.5 40.3 19.9 25.6 47.3 47 93.3 72.8 56.4 31.6 67.9 38.6 86 52.7a197 197 0 0126.5 24.4c0 1.3-2.2 1-16-2zm-510.6-11a55.3 55.3 0 01-15.1-7.7c-6.2-4-6.6-5.9-3.3-14.7 2.6-6.9 9.5-17.6 11.4-17.6.8 0 3 2.2 5 5 2 2.7 6 6.4 8.7 8.1a19 19 0 014.9 4 48.8 48.8 0 00-3.9 16.4c-.3 4.3-1 8-1.6 8-.6.2-3.3-.5-6.1-1.5zm231.3 1.3c-.4-.3-.7-3-.7-6 0-2.9-1-8.3-2.2-12l-2.2-6.7 2.9-2a51.9 51.9 0 0012.2-11.7c1-1.6 2.5-2.9 3.4-2.9 3.3 0 13.1 18.4 13.3 24.8 0 3.1-.5 4-4.9 7.4a62.4 62.4 0 01-12.7 6.8c-8.6 3.4-8.2 3.2-9.1 2.3zM411.3 791.4c-.9-2.3.5-14.7 2.4-21.6 2.3-8.1 4.2-9.3 13.6-8.4 8.3.7 18.2 3.3 19.6 5 .7.8 0 2.7-2.5 6.1-1.9 2.7-4.3 7.7-5.3 11l-1.9 6-8.8.6c-5 .4-10.2 1.2-11.7 1.8-3.8 1.5-4.6 1.4-5.4-.5zm177.2 0c-2.2-.9-7.4-1.7-11.5-1.7l-7.4-.2-2.2-6.4a52 52 0 00-5.3-10.8c-1.7-2.4-3.1-4.7-3.1-5.2 0-3.2 25.3-7.6 29.7-5.2 5 2.7 9.6 31.3 5 31-.7 0-3-.7-5.2-1.6zm-41.3-135.1a490.1 490.1 0 01-36.2-176c0-6.3 0-6.3 5.5-11.6a63.2 63.2 0 0138.8-15.7h3.5l35.1 65.4c19.3 36 35.8 66 36.6 66.6 1.8 1.5 2.6 0 5.5-10.4 7-25.1 21.3-52 40.9-76.4 4.5-5.7 8-11 8-12-.3-.8-30.7-25.3-67.7-54.3L549.8 379l-19.1-.2-19.2-.3-.3-169.4c-.2-135 0-169.6 1-170.3 1.9-1.1 311-1 312.8.2 1.3.8 1 3.5-1.4 21.2A471.3 471.3 0 00820 92l-.6 11.4-7 3.9a635.7 635.7 0 00-44.5 26.2 3505.6 3505.6 0 00-135.5 107.7 34.9 34.9 0 00-9.8 19c-.2 3.8 0 4.3 3.7 6.2 5.7 3 8.1 6.8 8.1 12.6 0 6.1-2.5 9.7-9 12.8-4.6 2.3-4.7 2.4-4 6a22.9 22.9 0 0016 18.8c3.1.9 6.7 1.3 8 1 1.2-.3 5.4-3 9.1-5.9 5.2-4 7.2-6.2 8.2-9.2 1.7-5.1 3.4-6.9 9-9.6 6.8-3.1 18.3-3 24.9.2 16 8 9.3 22.7-11.4 24.6-6.2.6-7.4 1.1-14 6-4.9 3.6-7.3 6-7.1 7.1.4 2.1 13 6.4 25.6 8.8a71.2 71.2 0 0034.7-1.7 40 40 0 0021.5-22.8c4-10 7.8-14.1 15.5-17 12.1-4.5 23.7-5 83-3.7 43 1 46 .7 56.8-5.1a61.2 61.2 0 0021.7-25l5.3-11.3c1.5-3 3.3-3.4 9.5-2.5 8.5 1.3 14.2 10.3 12.7 20-1 7.1-10 21-20 31.2a51.2 51.2 0 01-17.6 13.2 80.1 80.1 0 01-32.4 8.2c-6.6.6-12.3 1.4-12.6 1.7-.3.4-1.9 4.5-3.4 9.2a156 156 0 01-27.9 49.5c-9.4 11.5-31 32.7-50 49.4-42.3 36.7-50 43.7-62.3 56-42.7 42.5-64.2 84-68.2 132a44.7 44.7 0 01-1.7 11c-1.1 1-100 34.1-101.8 34.1-.8 0-3-4.2-5.4-9.8zM38 266.4V38h166.4c94.3 0 166.7.4 167 .9a43 43 0 01-3.5 10.7C358.3 73.2 350.2 98 333.5 154c-21.2 71.6-31.6 100.2-48.4 134a294.2 294.2 0 01-59 83c-27.8 27.8-58.2 49.3-121.2 85.6A1912.7 1912.7 0 0051.4 488 96.3 96.3 0 0139 495c-.8 0-1.1-61.8-1.1-228.5zm729.8-67c-2.6-.9-6.3-3-8.4-5-3.3-3.2-3.6-3.8-3-7.2 1-5.1 4.5-11.2 8-13.7 4.8-3.6 12.7-2.9 22.7 2.1 8.4 4.2 19.9 12.5 19.9 14.3 0 .5-2.1 2-4.8 3.3-12.8 6.5-26 8.8-34.4 6.2zm113.5-75c-1.8-.7-3.3-2-3.3-3 0-.8 1.1-5.4 2.5-10.1 6.5-22.4-.4-46.5-18.8-66-2.7-3-4.6-5.8-4.2-6.3.4-.8 16.7-1.1 51-1.1 44.4 0 50.5.2 52 1.6 1.2 1.3 1.5 4.4 1.5 18.2 0 9.2-.4 17.2-.8 17.9-.5.8-7 .3-25.5-2.4-18-2.5-25.1-3.2-26-2.4-1.2.9-1.1 2.4 0 8.3 1 4.7 1.3 11.5 1 18.8-.4 13.5-2.5 19.3-9 24.4-3.2 2.6-4.8 3-10.5 3.3-4.3.2-7.9-.2-10-1.1z" />
								<path fill="#e3001b"
									  d="M0 500V0h1000v1000H0V500zm983.5 0V16.5h-967L16.2 499c-.1 265.4 0 483 .3 483.8.3 1 97.6 1.2 483.7 1l483.3-.3V500zm-564 461c-1.2-.4-3.5-3.7-5.2-7.1-7.7-15.7-5.8-29.1 5.3-37 3.8-2.8 4.4-3.7 4.4-7a11 11 0 00-2-6.3c-1.9-2.3-2.9-2.6-7.8-2.6a22 22 0 01-18-8.5c-11-12.6-11.1-38.4-.1-59.5 11.6-22.4 32.2-31.6 46.8-21 4.6 3.4 7.6 3.7 10.9 1.4 4-2.8 4.5-5 2.7-12-2.6-10.3-.3-17.7 7.8-25.1 22.7-21 73-16 84.7 8.3 2.2 4.5 2.4 10.4.4 21.5-.5 3.1-.2 3.9 2.6 6.2 3.5 3 8 3.5 10 1.1 4-4.6 13.7-6.9 21.4-4.9 7.4 2 12 5 18.8 12.4 14.8 15.9 20.9 43.7 13.8 62.6a25.4 25.4 0 01-24.2 17.5c-5.2 0-8.2 2.5-9.3 7.8-.6 3-.3 3.6 5.4 8.8 7.7 7.1 9.6 11.7 8.9 21.4-.7 8.7-6.3 21.4-10 22.4-3.5.9-165 .6-167.4-.4zM522 940.1a67.9 67.9 0 0034.5-27 63 63 0 006.1-50.7 62.9 62.9 0 00-38.6-40.1 71 71 0 00-35-1.9A63 63 0 00448 853c-9.3 19-9.3 37 0 56a62.6 62.6 0 0040.1 32 69.2 69.2 0 0033.8-.9zm373 10a492.5 492.5 0 01-282-179.5c-12.6-16.5-29.3-41.7-28.2-42.8a81 81 0 0117.3.2l54.9 3 55 3c47 2.7 48.5 2.6 61-3.2a71.9 71.9 0 0025.5-25.2c3.6-7 5-8.1 9.8-7.2 11.2 2 16 16.3 9.6 28.8-3 6-20 22.5-27.9 27-3.6 2.2-10.1 5-14.5 6.5-7.4 2.5-9.3 2.7-25 2.8-9.3 0-28.2-.6-41.8-1.4-18.8-1-25-1.1-26-.2-2.2 2.2 10.2 24.3 22.5 40.3 19.9 25.6 47.3 47 93.3 72.8 56.4 31.6 67.9 38.6 86 52.7a197 197 0 0126.5 24.4c0 1.3-2.2 1-16-2zM547.2 656.1a490.1 490.1 0 01-36.2-176c0-6.2 0-6.2 5.5-11.5a63.2 63.2 0 0138.8-15.7h3.5l35.1 65.4c19.3 36 35.8 66 36.6 66.6 1.8 1.5 2.6 0 5.5-10.4 7-25.1 21.3-52 40.9-76.4 4.5-5.7 8-11 8-12-.3-.8-30.7-25.3-67.7-54.3L549.8 379l-19.1-.2-19.2-.3-.3-169.4c-.2-135 0-169.6 1-170.3 1.9-1.1 311-1 312.8.2 1.3.8 1 3.5-1.4 21.2A471.3 471.3 0 00820 92l-.6 11.4-7 3.9a635.7 635.7 0 00-44.5 26.2 3505.6 3505.6 0 00-135.5 107.7 34.9 34.9 0 00-9.8 19c-.2 3.8 0 4.3 3.7 6.2 5.7 3 8.1 6.8 8.1 12.6 0 6.1-2.5 9.7-9 12.8-4.6 2.3-4.7 2.4-4 6a22.9 22.9 0 0016 18.8c3.1.9 6.7 1.3 8 1 1.2-.3 5.4-3 9.1-5.9 5.2-4 7.2-6.2 8.2-9.2 1.7-5.1 3.4-6.9 9-9.6 6.8-3.1 18.3-3 24.9.2 16 8 9.3 22.7-11.4 24.6-6.2.6-7.4 1.1-14 6-4.9 3.6-7.3 6-7.1 7.1.4 2.1 13 6.4 25.6 8.8a71.2 71.2 0 0034.7-1.7 40 40 0 0021.5-22.8c4-10 7.8-14.1 15.5-17 12.1-4.5 23.7-5 83-3.7 43 1 46 .7 56.8-5.1a61.2 61.2 0 0021.7-25l5.3-11.3c1.5-3 3.3-3.4 9.5-2.5 8.5 1.3 14.2 10.3 12.7 20-1 7.1-10 21-20 31.2a51.2 51.2 0 01-17.6 13.2 80.1 80.1 0 01-32.4 8.2c-6.6.6-12.3 1.4-12.6 1.7-.3.4-1.9 4.5-3.4 9.2a156 156 0 01-27.9 49.5c-9.4 11.5-31 32.7-50 49.4-42.3 36.7-50 43.7-62.3 56-42.7 42.5-64.2 84-68.2 132a44.7 44.7 0 01-1.7 11c-1.1 1-100 34.1-101.8 34.1-.8 0-3-4.2-5.4-9.8zm220.6-456.7c-2.6-.9-6.3-3-8.4-5-3.3-3.2-3.6-3.8-3-7.2 1-5.1 4.5-11.2 8-13.7 4.8-3.6 12.7-2.9 22.7 2.1 8.4 4.2 19.9 12.5 19.9 14.3 0 .5-2.1 2-4.8 3.3-12.8 6.5-26 8.8-34.4 6.2zm113.5-75c-1.8-.7-3.3-2-3.3-3 0-.8 1.1-5.4 2.5-10.1 6.5-22.4-.4-46.5-18.8-66-2.7-3-4.6-5.8-4.2-6.3.4-.8 16.7-1.1 51-1.1 44.4 0 50.5.2 52 1.6 1.2 1.3 1.5 4.4 1.5 18.2 0 9.2-.4 17.2-.8 17.9-.5.8-7 .3-25.5-2.4-18-2.5-25.1-3.2-26-2.4-1.2.9-1.1 2.4 0 8.3 1 4.7 1.3 11.5 1 18.8-.4 13.5-2.5 19.3-9 24.4-3.2 2.6-4.8 3-10.5 3.3-4.3.2-7.9-.2-10-1.1z" />
								<path fill="#020202"
									  d="M0 500V0h1000v1000H0V500zm983.5 0V16.5h-967L16.2 499c-.1 265.4 0 483 .3 483.8.3 1 97.6 1.2 483.7 1l483.3-.3V500z" />
							</svg>
						</span>
						<span>SVWS NRW</span>
					</h1>
					<div class="login-form">
						<div class="flex items-center w-full space-x-4 mt-1">
							<svws-ui-text-input v-model="serverAddress" type="text" placeholder="Server Addresse" />
							<svws-ui-button type="secondary" @click="connectClicked">
								Verbinden
							</svws-ui-button>
						</div>
						<Transition>
							<div v-if="inputDBSchema" class="login-input-group mt-16">
								<svws-ui-multi-select v-model="inputDBSchema" title="DB-Schema" :items="inputDBSchemata" :item-text="get_name" />
								<div class="flex space-x-4 w-full">
									<svws-ui-text-input v-model="username" type="text" placeholder="Benutzername"/>
									<svws-ui-text-input
										v-model="password"
										type="password"
										placeholder="Passwort"
										@keyup.enter="login"
									/>
								</div>
								<div class="w-full flex justify-end items-start">
									<div v-if="main.config.isAuthenticated === false" class="text-left mr-4 leading-tight text-red-500 font-bold">Fehler bei der Anmeldung. Passwort oder Benutzername falsch.</div>
									<div v-else class="text-left mr-4 leading-tight w-full my-auto">Verbunden mit {{ serverAddress }}</div>
									<svws-ui-button @click="login">Anmelden</svws-ui-button>
								</div>
							</div>
							<div v-else class="login-input-group">
								<div v-if="!connection_ok" class="text-red-500 font-bold mt-4">Fehler beim Verbinden zum Server.</div>
							</div>
						</Transition>
					</div>
				</div>
				<div class="login-footer">
					<img class="lg:order-last login-footer-logo" src="/images/MSB_NRW_Logo.svg" />
					<div class="lg:pr-16">
						<span class="block mb-1">Powered by SVWS-NRW, Version {{version}}</span>
						<p class="login-footer-hint mb-1 opacity-50">
							<span class="login-footer-hint-label">Hinweis:</span> Um
							eine gute Lesbarkeit zu erzeugen, wird bei SVWS-NRW
							möglichst auf geschlechtsneutrale Begriffe wie
							Lehrkräfte, Klassenleitung, Erzieher usw.
							zurückgegriffen. An Stellen, wo das nicht möglich ist,
							wird versucht alle Geschlechter gleichermaßen zu
							berücksichtigen.
						</p>
						<nav class="login-footer-links">
							<a class="login-footer-link" href="#">Impressum</a>
							<a class="login-footer-link" href="#">Datenschutz</a>
							<a class="login-footer-link" href="#">Hilfe</a>
						</nav>
					</div>
				</div>
			</div>
		</template>
	</svws-ui-app-layout>
</template>

<script setup lang="ts">
import { computed, ComputedRef, Ref, ref, watch, WritableComputedRef } from "vue";
import { DBSchemaListeEintrag } from "@svws-nrw/svws-core-ts";
import { injectMainApp, Main } from "~/apps/Main";
import { router } from "~/router";
import { useRoute } from "vue-router";
import { version } from '../../version';

const route = useRoute();

const serverAddress = ref("localhost");
const username = ref("Admin");
const password = ref("");

const connection_ok: Ref<boolean> = ref(true)

const main: Main = injectMainApp();
const inputDBSchemata: ComputedRef<DBSchemaListeEintrag[] | undefined> = computed(() => {
	return main.config.dbSchemata;
});

watch(() => main.config.pending, (pending: boolean) => {
				const guards = ['/', '/login']
				const redirect = route.query.redirect as string | undefined
				if (!pending) {
					const path: string = redirect && !guards.includes(redirect)
						? redirect
						: '/schueler'
					router.push(path)
				}
	})

main.connectTo(window.location.hostname + ":" + window.location.port)

const inputDBSchema: WritableComputedRef<DBSchemaListeEintrag | undefined> = computed({
	set(val: DBSchemaListeEintrag | undefined) {
		if (main.config) {
			main.config.dbSchema = val;
		}
	},
	get(): DBSchemaListeEintrag | undefined {
		return main.config.dbSchema;
	}
});

function get_name(i: DBSchemaListeEintrag): string | undefined {
	return i?.name?.toString();
};

async function connectClicked() {
	connection_ok.value = true;
	connection_ok.value = await main.connectTo(serverAddress.value);
};

async function login() {
	await main.authenticate(username.value, password.value);
}

</script>

<style lang="postcss" scoped>
.app-layout--wrapper {
	@apply p-4;
}

.login-wrapper {
	@apply flex h-full flex-col justify-between;
}

.login-container {
	@apply bg-cover bg-top rounded-t-2xl h-full flex flex-col justify-center items-center px-4;
	background-image: radial-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.3)), url("/images/login-background-1.jpg");
}

.login-form {
	@apply w-full p-4 lg:p-8 bg-white rounded-xl flex flex-col items-center;
	max-width: 40rem;
	@apply shadow-lg;
}

.login-input-group .wrapper {
	@apply w-full;
}

.login-input-group {
	@apply space-y-4 w-full text-center flex flex-col items-center;
}

.login-form-header {
	@apply flex flex-row items-center space-x-4 font-bold leading-tight text-white mb-4;
	font-size: 5rem;
}

.login-form-logo {
	@apply h-[0.8em] w-[0.8em];
}

.login-footer {
	@apply p-8 flex flex-wrap lg:flex-nowrap justify-between items-center;
}

.login-footer-logo {
	@apply h-auto w-80 mb-4 lg:mb-0;
}

.login-footer-links {
	@apply flex flex-row items-center space-x-2;
}

.login-footer-link {
	@apply inline-block underline opacity-50;
}

.login-footer-link:hover,
.login-footer-link:focus {
	@apply opacity-100 no-underline;
}

.v-enter-active,
.v-leave-active {
  transition: opacity 0.5s ease;
}

.v-enter-from,
.v-leave-to {
  opacity: 0;
}
</style>
